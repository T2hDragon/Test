(this["webpackJsonpreact-demo-client"]=this["webpackJsonpreact-demo-client"]||[]).push([[0],{180:function(e,t,a){"use strict";a.r(t);a(65),a(88),a(89),a(66),a(90),a(91);var s=a(1),n=a.n(s),r=a(38),c=a.n(r),u=a(3),o=a.n(u),i=a(5),l=a(7),d=a(8),j=a(11),b=a(17),p=a(18),h=a(19),m=a.n(h),g="https://autokool.azurewebsites.net/api/v1",O=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"getAxiosConfiguration",value:function(e){if(e)return{headers:{Authorization:"Bearer "+e}}}},{key:"getSupportedLanguages",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,s,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axios.get("/Lang/GetSupportedLanguages");case 3:return t=e.sent,e.abrupt("return",{ok:t.status<=299,statusCode:t.status,data:t.data});case 7:return e.prev=7,e.t0=e.catch(0),r=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(a=null===(s=r.response)||void 0===s?void 0:s.status)&&void 0!==a?a:500,messages:(null===(n=r.response)||void 0===n?void 0:n.data).messages});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getLangResources",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,s,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axios.get("/Lang/GetLangResources?culture="+t);case 3:return a=e.sent,e.abrupt("return",{ok:a.status<=299,statusCode:a.status,data:a.data});case 7:return e.prev=7,e.t0=e.catch(0),c=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(s=null===(n=c.response)||void 0===n?void 0:n.status)&&void 0!==s?s:500,messages:(null===(r=c.response)||void 0===r?void 0:r.data).messages});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();O.axios=m.a.create({baseURL:g,headers:{"Content-Type":"application/json"}});var x,v={jwt:null,userName:"",firstName:"",lastName:"",title:null,contractId:null,supportedLanguages:[],currentLanguage:{name:"et",nativeName:"eesti"},langResources:{frontEnd:{components:{alert:{},footer:{appName:"S\xf5idkooli app"},header:{brand:"Autokool",courses:"Kursused",logIn:"Logi sisse",logOut:"Logi v\xe4lja",overview:"\xdclevaade",register:"Registreeri",schedule:"Ajakava",students:"\xd5pilased"},loader:{error:"Viga",loading:"Laeb"}},containers:{home:{homeIndex:{description:"Autokoolide veebisait t\xf6\xf6koormuse digitaliseerimiseks. Nagu s\xf5idutundide m\xe4rkimine ja \xfclevaade \xf5pilaste edusammudest. ",invites:"Kutsed",courses:"Kursused",student:"\xd5pilane",teacher:"\xd5petaja",title:"S\xf5idukooli haldamise lehek\xfclg"}},identity:{login:{emptyInputs:"T\xfchi kasutajanimi v\xf5i parool",logIn:"Logi sisse",password:"Parool",username:"Kasutajanimi"},register:{username:"Kasutajanimi",email:"Email",emptyInputs:"T\xfchi kasutajanimi v\xf5i parool",firstname:"Eesnimi",lastname:"Perenimi",password:"Parool",passwordConfirmation:"Parooli kinnitus",passwordDoesntMatch:"Paroolid ei kattu",registerButton:"Registreeri",unableToLogIn:"Eba\xf5nnestus sisse logida"}},student:{course:{courseIndex:{complete:"L\xe4bitud",drivingLessons:"S\xf5idutunnid",progress:"Edenemine"},courseSchedule:{complete:"L\xe4bitud",backToOverview:"Tagasi",day:"P\xe4ev",drivingLessons:"S\xf5idutunnid",month:"Kuu",progress:"Edenemine",teacher:"\xd5petaja",time:"Aeg",year:"Aasta"}},studentCourses:{category:"Kategooria",courses:"Kursused"}},teacher:{teacherOverview:{course:"Kursus",dailyLessons:"P\xe4eva s\xf5idutunnid",nextLesson:"J\xe4rgmine tund",restOfTheDay:"\xdclej\xe4\xe4nud p\xe4ev",student:"\xd5pilane",time:"Kellaaeg"},teacherSchedule:{lessonRemoved:"S\xf5idutund on eemaldatud",lessons:"S\xf5idutunnid",remove:"Eemalda",removedStudent:"Eemaldatud \xf5pilane",student:"\xd5pilane",time:"Kellaaeg"},students:{studentsIndex:{email:"Email",filter:"Filtreeri",invite:"Kutsu",name:"Nimi",schoolStudents:"Kooli \xf5pilased",username:"Kasutajanimi"},teacherStudentCourse:{complete:"L\xe4bitud",drivingLessons:"S\xf5idutunnid",delete:"Kustutua",progress:"Edenemine",reportUpdated:"Raport uuendatud",update:"Uuenda"},teacherStudentCourses:{category:"Kategooria",courses:"kursused",kick:"Viska v\xe4lja",addCourse:"Lisa kursus"},teacherStudentCourseSchedule:{add:"Lisa",addLesson:"Lisa s\xf5idutund",backToStudentCourse:"Tagasi",complete:"L\xe4bitud",day:"Kuup\xe4ev",drivingLessons:"S\xf5idutunnid",lessonLength:"S\xf5idutunni pikkus",lessonLengthError:"S\xf5idutunni pikkus peab olema kauem kui ",lessonRemoved:"S\xf5idutund eemaldatud",month:"Kuu",nextLesson:"J\xe4rgmine s\xf5idutund",progress:"Edenemine",remove:"Eemalda",student:"\xd5pilane",studentLessons:"\xd5pilase s\xf5idutunnid",teacher:"\xd5petaja",lessonAdded:"Kursus lisatud!",teacherLessons:"\xd5petaja s\xf5idutunnid",time:"Kellaaeg",year:"Aasta"}}},page404:{notFound:"Lehek\xfclg ei leitud"}}}},setAuthInfo:function(e,t,a,s,n,r,c,u,o){}},f=n.a.createContext(v),k=f.Provider,w=(f.Consumer,a(0)),C=function(){var e=Object(s.useContext)(f);return Object(w.jsx)("footer",{className:"border-top footer text-muted",children:Object(w.jsxs)("div",{className:"container",children:["\xa9 2021 - ",e.langResources.frontEnd.components.footer.appName]})})},N=a(10),y=function(){var e=Object(s.useContext)(f),t=e.langResources.frontEnd.components.header,a=Object(j.g)(),n=Object(j.h)(),r=function(){var t=Object(i.a)(o.a.mark((function t(s,r){var c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.name!==e.currentLanguage.name){t.next=2;break}return t.abrupt("return");case 2:return e.currentLanguage=r,t.next=5,O.getLangResources(e.currentLanguage.name);case 5:(c=t.sent).ok&&(e.langResources=c.data,e.setAuthInfo(e.jwt,e.userName,e.firstName,e.lastName,e.title,e.contractId,e.supportedLanguages,e.currentLanguage,e.langResources),u=n.pathname,a.push("/langRefresh"),a.push(u));case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(w.jsx)("header",{children:Object(w.jsx)("nav",{className:"navbar navbar-expand-sm navbar-toggleable-sm navbar navbar-dark bg-dark border-bottom box-shadow mb-3",children:Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)(N.c,{className:"navbar-brand",to:"/",children:t.brand}),Object(w.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":".navbar-collapse","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(w.jsx)("span",{className:"navbar-toggler-icon"})}),Object(w.jsxs)("div",{className:"navbar-collapse collapse d-sm-inline-flex justify-content-between",children:[Object(w.jsxs)("ul",{className:"navbar-nav flex-grow-1",children:["teacher"===e.title?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("li",{className:"nav-item",children:Object(w.jsx)(N.c,{className:"nav-link",to:"/teacher/"+e.contractId+"/overview",children:t.overview})}),Object(w.jsx)("li",{className:"nav-item",children:Object(w.jsx)(N.c,{className:"nav-link",to:"/teacher/"+e.contractId+"/schedule",children:t.schedule})}),Object(w.jsx)("li",{className:"nav-item",children:Object(w.jsx)(N.c,{className:"nav-link",to:"/teacher/"+e.contractId+"/students",children:t.students})})]}):null,"student"===e.title?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("li",{className:"nav-item",children:Object(w.jsx)(N.c,{className:"nav-link",to:"/student/courses/"+e.contractId,children:t.courses})})}):null,Object(w.jsxs)("li",{className:"nav-item dropdown",children:[Object(w.jsx)("div",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(w.jsx)("img",{id:"nav-translation-image",src:"".concat("/drivingschool","/assets/images/Translation-Icon-White.png"),alt:"translation picker logo"})}),Object(w.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:e.supportedLanguages.map((function(e){return Object(w.jsx)("div",{className:"dropdown-item nav-link",onClick:function(t){return r(t.nativeEvent,e)},children:e.nativeName},e.name)}))})]})]}),Object(w.jsx)("ul",{className:"navbar-nav",children:null===e.jwt?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("li",{className:"nav-item",children:Object(w.jsx)(N.c,{className:"nav-link text-info d-block",to:"/identity/login",children:t.logIn})}),Object(w.jsx)("li",{className:"nav-item",children:Object(w.jsx)(N.c,{className:"nav-link text-info d-block",to:"/identity/register",children:t.register})})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("li",{}),Object(w.jsxs)("li",{className:"nav-item text-center",children:[Object(w.jsx)("span",{className:"username",children:e.userName}),Object(w.jsx)("button",{onClick:function(){e.setAuthInfo(null,"","","",null,null,e.supportedLanguages,e.currentLanguage,e.langResources),a.push("/")},className:"btn btn-link nav-link text-info",children:t.logOut})]})]})})]})]})})})},S=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"getAxiosConfiguration",value:function(e,t){if(t)return{params:{culture:e},headers:{Authorization:"Bearer "+t}}}},{key:"getAll",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s){var n,r,c,u,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("Contracts/GetAll",e.getAxiosConfiguration(a,s));case 3:return n=t.sent,t.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 7:return t.prev=7,t.t0=t.catch(0),i=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(r=null===(c=i.response)||void 0===c?void 0:c.status)&&void 0!==r?r:500,messages:(null===(u=i.response)||void 0===u?void 0:u.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("Contracts/Get/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"getMissing",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("Contracts/MissingCourses/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"InviteHandle",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n,r){var c,u,i,l,d,j;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s?"Contracts/AcceptInvite/":"Contracts/DeclineInvite/",t.prev=1,t.next=4,this.axios.put(c+a,"",e.getAxiosConfiguration(n,r));case 4:return u=t.sent,t.abrupt("return",{ok:u.status<=299,statusCode:u.status,data:u.data});case 8:return t.prev=8,t.t0=t.catch(1),j=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(i=null===(l=j.response)||void 0===l?void 0:l.status)&&void 0!==i?i:500,messages:[null===(d=j.response)||void 0===d?void 0:d.statusText]});case 12:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e,a,s,n){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.delete("Contracts/Delete/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()}]),e}();S.axios=m.a.create({baseURL:g,headers:{"Content-Type":"application/json"}}),function(e){e.Loading="Loading...",e.Error="Error...",e.OK="Ok"}(x||(x={}));var L,I=function(e){var t=Object(s.useContext)(f).langResources.frontEnd.components.loader;return e.pageStatus===x.Loading?Object(w.jsxs)("div",{className:"alert alert-primary",role:"alert",children:[t.loading,"..."]}):e.pageStatus===x.Error?Object(w.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[t.error,"... ",e.statusCode]}):Object(w.jsx)(w.Fragment,{})},E=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)([]),c=Object(l.a)(r,2),u=c[0],b=c[1],p=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),h=Object(l.a)(p,2),m=h[0],g=h[1],O=Object(s.useContext)(f),v=O.langResources.frontEnd.containers.home.homeIndex,k=Object(j.g)(),C=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==O.jwt){e.next=2;break}return e.abrupt("return");case 2:return O.title=null,O.contractId=null,O.setAuthInfo(O.jwt,O.userName,O.firstName,O.lastName,O.title,O.contractId,O.supportedLanguages,O.currentLanguage,O.langResources),e.next=7,S.getAll(O.currentLanguage.name,O.jwt);case 7:(t=e.sent).ok&&t.data?(g({pageStatus:x.OK,statusCode:0}),n(t.data.filter((function(e){return"active"===e.status}))),b(t.data.filter((function(e){return"invited"===e.status})))):g({pageStatus:x.Error,statusCode:t.statusCode});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){C()}),[]);var N=function(){var e=Object(i.a)(o.a.mark((function e(t,a){var s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(a,O.currentLanguage.name,O.jwt);case 2:(s=e.sent).ok&&(O.title=s.data.title,O.contractId=s.data.contractId,O.setAuthInfo(O.jwt,O.userName,O.firstName,O.lastName,O.title,O.contractId,O.supportedLanguages,O.currentLanguage,O.langResources),n="teacher"===O.title?"/teacher/"+s.data.contractId+"/overview":"student"===O.title?"/student/courses/"+s.data.contractId:"DefaultUrl",k.push(n));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(i.a)(o.a.mark((function e(t,s,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.InviteHandle(s,r,O.currentLanguage.name,O.jwt);case 2:e.sent.ok&&(b(u.filter((function(e){return e.contractId!==s}))),r&&(c=u.find((function(e){return e.contractId===s})),a.push(c),n(a)),k.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}();return null!=O.jwt?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"text-center",children:v.courses}),Object(w.jsx)(I,Object(d.a)({},m)),a.map((function(e){return Object(w.jsxs)("div",{className:"bg-info btn inline-table",onClick:function(t){return N(t.nativeEvent,e.contractId)},children:[Object(w.jsx)("h2",{className:"course-school text-center",children:e.drivingSchoolName}),Object(w.jsx)("h4",{className:"course-title text-center",children:"teacher"===e.title?v.teacher:"student"===e.title?v.student:"Default Title"})]},e.contractId)})),0!==u.length?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("h1",{className:"text-center",children:v.invites}),u.map((function(e){return Object(w.jsxs)("div",{className:"bg-info inline-table",children:[Object(w.jsx)("h2",{className:"course-school text-center",children:e.drivingSchoolName}),Object(w.jsx)("h4",{className:"course-title text-center",children:"teacher"===e.title?v.teacher:"student"===e.title?v.student:"Default Title"}),Object(w.jsx)("i",{className:"fa fa-check btn text-primary btn-font",onClick:function(t){return y(t.nativeEvent,e.contractId,!0)}}),Object(w.jsx)("i",{className:"fa fa-times-circle btn float-right text-danger btn-font",onClick:function(t){return y(t.nativeEvent,e.contractId,!1)}})]},e.contractId)}))]}):null]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:v.title}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{children:v.description})]})};!function(e){e.Primary="alert-primary",e.Secondary="alert-secondary",e.Success="alert-success",e.Danger="alert-danger",e.Warning="alert-warning",e.Info="alert-info",e.Light="alert-light",e.Dark="alert-dark"}(L||(L={}));var D=function(e){return e.show?Object(w.jsx)("div",{className:"alert "+e.alertClass,role:"alert",children:e.message}):null},R=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"getAxiosConfiguration",value:function(e){return{params:{culture:e}}}},{key:"Login",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s){var n,r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify(a),t.prev=1,t.next=4,this.axios.post("account/login",n,e.getAxiosConfiguration(s));case 4:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 8:return t.prev=8,t.t0=t.catch(1),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 12:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"Register",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s){var n,r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify(a),t.prev=1,t.next=4,this.axios.post("account/register",n,e.getAxiosConfiguration(s));case 4:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 8:return t.prev=8,t.t0=t.catch(1),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 12:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()}]),e}();R.axios=m.a.create({baseURL:g,headers:{"Content-Type":"application/json"}});var F=function(){var e=Object(s.useContext)(f),t=e.langResources.frontEnd.containers.identity.login,a=Object(s.useState)({userName:"",password:""}),n=Object(l.a)(a,2),r=n[0],c=n[1],u=Object(s.useState)(""),b=Object(l.a)(u,2),p=b[0],h=b[1],m=function(){var a=Object(i.a)(o.a.mark((function a(s){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),""!==r.userName&&""!==r.password||h(t.emptyInputs),h(""),a.next=6,R.Login(r,e.currentLanguage.name);case 6:(n=a.sent).ok?(h(""),e.jwt=n.data.token,e.userName=n.data.userName,e.firstName=n.data.firstname,e.lastName=n.data.lastname,e.title=null,e.contractId=null,e.setAuthInfo(e.jwt,e.userName,e.firstName,e.lastName,e.title,e.contractId,e.supportedLanguages,e.currentLanguage,e.langResources)):h(n.messages[0]);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[null!==e.jwt?Object(w.jsx)(j.a,{to:"/"}):null,Object(w.jsx)("form",{onSubmit:function(e){return m(e.nativeEvent)},children:Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-md-6",children:Object(w.jsxs)("section",{children:[Object(w.jsx)("hr",{}),Object(w.jsx)(D,{show:""!==p,message:p,alertClass:L.Danger}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"Input_username",children:t.username}),Object(w.jsx)("input",{value:r.userName,onChange:function(e){return c(Object(d.a)(Object(d.a)({},r),{},{userName:e.target.value}))},className:"form-control",type:"text",id:"Input_Username",name:"Input.Username",placeholder:"",autoComplete:"username"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"Input_Password",children:t.password}),Object(w.jsx)("input",{value:r.password,onChange:function(e){return c(Object(d.a)(Object(d.a)({},r),{},{password:e.target.value}))},className:"form-control",type:"password",id:"Input_Password",name:"Input.Password",placeholder:"",autoComplete:"current-password"})]}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)("button",{onClick:function(e){return m(e.nativeEvent)},type:"submit",className:"btn btn-primary",children:t.logIn})})]})})})})]})},A=function(){var e=Object(s.useContext)(f),t=e.langResources.frontEnd.containers.identity.register,a=Object(s.useState)({firstName:"",lastName:"",email:"",userName:"",password:"",passwordConfirmation:""}),n=Object(l.a)(a,2),r=n[0],c=n[1],u=Object(s.useState)(""),b=Object(l.a)(u,2),p=b[0],h=b[1],m=function(){var a=Object(i.a)(o.a.mark((function a(s){var n,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),""!==r.userName&&""!==r.password||h(t.emptyInputs),(""!==r.password||r.passwordConfirmation)&&h(t.passwordDoesntMatch),h(""),a.next=8,R.Register(r,e.currentLanguage.name);case 8:if((n=a.sent).ok){a.next=13;break}h(n.messages[0]),a.next=18;break;case 13:return h(""),a.next=16,R.Login({userName:r.userName,password:r.password},e.currentLanguage.name);case 16:(c=a.sent).ok?(e.jwt=c.data.token,e.userName=c.data.userName,e.firstName=c.data.firstname,e.lastName=c.data.lastname,e.title=null,e.contractId=null,e.setAuthInfo(e.jwt,e.userName,e.firstName,e.lastName,e.title,e.contractId,e.supportedLanguages,e.currentLanguage,e.langResources)):h("Unable to Log In");case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[null!==e.jwt?Object(w.jsx)(j.a,{to:"/"}):null,Object(w.jsx)("form",{onSubmit:function(e){return e.preventDefault},children:Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-md-6",children:Object(w.jsxs)("section",{children:[Object(w.jsx)("hr",{}),Object(w.jsx)(D,{show:""!==p,message:p,alertClass:L.Danger}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"Input_username",children:t.username}),Object(w.jsx)("input",{value:r.userName,onChange:function(e){return c(Object(d.a)(Object(d.a)({},r),{},{userName:e.target.value}))},className:"form-control",type:"text",id:"Input_Username",name:"Input.Username",placeholder:"username",autoComplete:"username"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"Input_email",children:t.emptyInputs}),Object(w.jsx)("input",{value:r.email,onChange:function(e){return c(Object(d.a)(Object(d.a)({},r),{},{email:e.target.value}))},className:"form-control",type:"text",id:"Input_email",name:"Input.email",placeholder:"example@mail.com",autoComplete:"email"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"Input_Firstname",children:t.firstname}),Object(w.jsx)("input",{value:r.firstName,onChange:function(e){return c(Object(d.a)(Object(d.a)({},r),{},{firstName:e.target.value}))},className:"form-control",type:"text",id:"Input_Firstname",name:"Input.Firstname",placeholder:"First name",autoComplete:"firstname"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"Input_Lastname",children:t.lastname}),Object(w.jsx)("input",{value:r.lastName,onChange:function(e){return c(Object(d.a)(Object(d.a)({},r),{},{lastName:e.target.value}))},className:"form-control",type:"text",id:"Input_Lastname",name:"Input.Lastname",placeholder:"Last name",autoComplete:"lastname"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"Input_Password",children:t.passwordDoesntMatch}),Object(w.jsx)("input",{value:r.password,onChange:function(e){return c(Object(d.a)(Object(d.a)({},r),{},{password:e.target.value}))},className:"form-control",type:"password",id:"Input_Password",name:"Input.Password",placeholder:"Input your current password...",autoComplete:"current-password"})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{htmlFor:"Input_Password_Confirmation",children:t.passwordConfirmation}),Object(w.jsx)("input",{value:r.passwordConfirmation,onChange:function(e){return c(Object(d.a)(Object(d.a)({},r),{},{passwordConfirmation:e.target.value}))},className:"form-control",type:"password",id:"Input_Password_Confirmation",name:"Input.Password_Confirmation",placeholder:"Repeat your password",autoComplete:"current-password"})]}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)("button",{onClick:function(e){return m(e.nativeEvent)},type:"submit",className:"btn btn-primary",children:t.registerButton})})]})})})})]})},P=function(){var e=Object(s.useContext)(f).langResources.frontEnd.containers.page404;return Object(w.jsxs)("h1",{className:"text-danger",children:[e.notFound," - 404!"]})},K=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"getAxiosConfiguration",value:function(e,t){if(t)return{params:{culture:e},headers:{Authorization:"Bearer "+t}}}},{key:"getAll",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("Students/Courses/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"AddCourse",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.stringify({name:a.name,description:a.description,category:a.category,courseId:a.courseId,contractId:a.contractId}),t.prev=1,console.log(r),t.next=5,this.axios.post("Students/Course",r,e.getAxiosConfiguration(s,n));case 5:return c=t.sent,t.abrupt("return",{ok:c.status<=299,statusCode:c.status,data:c.data});case 9:return t.prev=9,t.t0=t.catch(1),d=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(u=null===(i=d.response)||void 0===i?void 0:i.status)&&void 0!==u?u:500,messages:(null===(l=d.response)||void 0===l?void 0:l.data).messages});case 13:case"end":return t.stop()}}),t,this,[[1,9]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"getReport",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("Students/CourseReport/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"updateReport",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.stringify(a),t.next=4,this.axios.put("Students/CourseReport",r,e.getAxiosConfiguration(s,n));case 4:return c=t.sent,t.abrupt("return",{ok:c.status<=299,statusCode:c.status,data:c.data});case 8:return t.prev=8,t.t0=t.catch(0),d=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(u=null===(i=d.response)||void 0===i?void 0:i.status)&&void 0!==u?u:500,messages:(null===(l=d.response)||void 0===l?void 0:l.data).messages});case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"deleteStudentContract",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.delete("Students/CourseDelete/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()}]),e}();K.axios=m.a.create({baseURL:g,headers:{"Content-Type":"application/json"}});var M=function(){var e=Object(j.i)().id,t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),u=Object(l.a)(c,2),b=u[0],p=u[1],h=Object(s.useContext)(f),m=h.langResources.frontEnd.containers.student.studentCourses,g=Object(j.g)(),O=function(){var e=Object(i.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/student/course/",g.push("/student/course/"+a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==h.jwt){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,K.getAll(e,h.currentLanguage.name,h.jwt);case 4:(a=t.sent).ok&&a.data?(p({pageStatus:x.OK,statusCode:0}),r(a.data)):p({pageStatus:x.Error,statusCode:a.statusCode});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){v()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"text-center",children:m.courses}),Object(w.jsx)(I,Object(d.a)({},b)),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),n.map((function(e){return Object(w.jsxs)("div",{className:"table-entry btn",onClick:function(t){return O(t.nativeEvent,e.id)},children:[Object(w.jsx)("h3",{children:e.name}),Object(w.jsx)("h5",{children:e.description}),Object(w.jsxs)("h5",{children:[m.category,": ",e.category]})]},e.id)}))]})},T={id:"",courseName:"",drivingRequirementProgress:null,checkmarkProgress:[]},_=function(){var e=Object(j.i)().id,t=Object(s.useContext)(f),a=t.langResources.frontEnd.containers.student.course.courseIndex,n=Object(s.useState)(0),r=Object(l.a)(n,2),c=r[0],u=r[1],b=Object(s.useState)(T),p=Object(l.a)(b,2),h=p[0],m=p[1],g=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),O=Object(l.a)(g,2),v=O[0],k=O[1],C=function(){var a=Object(i.a)(o.a.mark((function a(){var s,n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,K.getReport(e,t.currentLanguage.name,t.jwt);case 2:(s=a.sent).ok&&s.data?(k({pageStatus:x.OK,statusCode:0}),m(s.data),null!=(n=s.data.drivingRequirementProgress)&&((r=n.completed/n.needed*100)>100&&(r=100),u(r))):k({pageStatus:x.Error,statusCode:s.statusCode});case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(s.useEffect)((function(){C()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:h.courseName}),Object(w.jsx)(I,Object(d.a)({},v)),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),null===h.drivingRequirementProgress?null:Object(w.jsxs)(N.b,{to:{pathname:"/student/courseSchedule/"+h.id},className:"table-entry btn",children:[Object(w.jsx)("h3",{className:"text-center",children:a.drivingLessons}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"progress",children:Object(w.jsx)("div",{className:"progress-bar bg-success",role:"progressbar","aria-valuenow":Number(c),"aria-valuemin":0,"aria-valuemax":100,style:{width:c+"%"},children:Object(w.jsxs)("span",{children:[c.toFixed(2),"% ",a.complete]})})}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{children:[a.progress,": ",h.drivingRequirementProgress.completed,"/",h.drivingRequirementProgress.needed]})]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("table",{children:Object(w.jsx)("tbody",{children:h.checkmarkProgress.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:e.requirementName}),Object(w.jsxs)("td",{children:[" ",Object(w.jsx)("i",{className:"fa fa-"+(e.isCompleted?"check text-success":"times text-danger")})]})]},e.id)}))})})]})},H=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"getAxiosConfiguration",value:function(e,t){if(t)return{params:{culture:e},headers:{Authorization:"Bearer "+t}}}},{key:"delete",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.delete("DrivingLessons/Delete/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"create",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.start=new Date(a.start.setHours(a.start.getHours()+3)),r=JSON.stringify(a),t.next=5,this.axios.post("DrivingLessons/Create",r,e.getAxiosConfiguration(s,n));case 5:return c=t.sent,t.abrupt("return",{ok:c.status<=299,statusCode:c.status,data:c.data});case 9:return t.prev=9,t.t0=t.catch(0),d=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(u=null===(i=d.response)||void 0===i?void 0:i.status)&&void 0!==u?u:500,messages:(null===(l=d.response)||void 0===l?void 0:l.data).messages});case 13:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"getTimeFramedByContract",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n,r,c){var u,i,l,d,j,b,p,h;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=("0"+s.getDate()).slice(-2)+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+s.getFullYear()+" "+("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2),i=("0"+n.getDate()).slice(-2)+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+s.getFullYear()+" "+("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2)+":"+("0"+n.getSeconds()).slice(-2),t.prev=2,t.next=5,this.axios.get("DrivingLessons/ContractDrivingLessons/"+a+"/"+u+"/"+i,e.getAxiosConfiguration(r,c));case 5:return l=t.sent,d=[],l.data.forEach((function(e){var t={id:e.id,teachers:e.teachers,students:e.students,courseName:e.courseName,start:new Date(e.start),end:new Date(e.end)};d.push(t)})),t.abrupt("return",{ok:l.status<=299,statusCode:l.status,data:d});case 11:return t.prev=11,t.t0=t.catch(2),h=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(j=null===(b=h.response)||void 0===b?void 0:b.status)&&void 0!==j?j:500,messages:(null===(p=h.response)||void 0===p?void 0:p.data).messages});case 15:case"end":return t.stop()}}),t,this,[[2,11]])})));return function(e,a,s,n,r){return t.apply(this,arguments)}}()},{key:"getAllByContractCourse",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l,d,j;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("DrivingLessons/ContractCourseDrivingLessons/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,c=r.data,u=[],c.forEach((function(e){var t={id:e.id,teachers:e.teachers,students:e.students,courseName:e.courseName,start:new Date(e.start),end:new Date(e.end)};u.push(t)})),t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:u});case 10:return t.prev=10,t.t0=t.catch(0),j=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(i=null===(l=j.response)||void 0===l?void 0:l.status)&&void 0!==i?i:500,messages:(null===(d=j.response)||void 0===d?void 0:d.data).messages});case 14:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(e,a,s){return t.apply(this,arguments)}}()}]),e}();H.axios=m.a.create({baseURL:g,headers:{"Content-Type":"application/json"}});var q={id:"",courseName:"",drivingRequirementProgress:null,checkmarkProgress:[]},U=function(){var e=Object(s.useContext)(f),t=e.langResources.frontEnd.containers.student.course.courseSchedule,a=Object(j.i)().id,n=Object(s.useState)([]),r=Object(l.a)(n,2),c=r[0],u=r[1],b=Object(s.useState)(0),p=Object(l.a)(b,2),h=p[0],m=p[1],g=Object(s.useState)(q),O=Object(l.a)(g,2),v=O[0],k=O[1],C=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),y=Object(l.a)(C,2),S=y[0],L=y[1],E=Object(s.useState)(null),D=Object(l.a)(E,2),R=D[0],F=D[1],A=function(){var t=Object(i.a)(o.a.mark((function t(){var s,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.getReport(a,e.currentLanguage.name,e.jwt);case 2:(s=t.sent).ok&&s.data?(L({pageStatus:x.OK,statusCode:0}),k(s.data),null!=(n=s.data.drivingRequirementProgress)&&((r=n.completed/n.needed*100)>100&&(r=100),m(r))):L({pageStatus:x.Error,statusCode:s.statusCode});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=Object(i.a)(o.a.mark((function t(){var s,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.getAllByContractCourse(a,e.currentLanguage.name,e.jwt);case 2:if(!(s=t.sent).ok||!s.data){t.next=16;break}L({pageStatus:x.OK,statusCode:0}),u(s.data),n=0;case 7:if(!(n<s.data.length)){t.next=14;break}if(!(s.data[n].start>=new Date)){t.next=11;break}return F(s.data[n]),t.abrupt("break",14);case 11:n++,t.next=7;break;case 14:t.next=17;break;case 16:L({pageStatus:x.Error,statusCode:s.statusCode});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){A(),P()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:v.courseName}),Object(w.jsx)("div",{children:Object(w.jsx)(N.b,{to:"/student/course/"+v.id,children:t.backToOverview})}),Object(w.jsx)(I,Object(d.a)({},S)),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),null===v.drivingRequirementProgress?null:Object(w.jsxs)("div",{className:"table-entry",children:[Object(w.jsx)("h3",{className:"text-center",children:t.drivingLessons}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"progress",children:Object(w.jsx)("div",{className:"progress-bar bg-success",role:"progressbar","aria-valuenow":Number(h),"aria-valuemin":0,"aria-valuemax":100,style:{width:h+"%"},children:Object(w.jsxs)("span",{children:[h.toFixed(2),"% ",t.complete]})})}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{children:[t.progress,": ",v.drivingRequirementProgress.completed,"/",v.drivingRequirementProgress.needed]}),null===R?null:Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{children:["Next Lesson: ",R.start.getFullYear()+" "+R.start.toLocaleString("default",{month:"long"})+" "+R.start.getDate()+" "+("0"+R.start.getHours()).slice(-2)+":"+("0"+R.start.getMinutes()).slice(-2)+"-"+("0"+R.end.getHours()).slice(-2)+":"+("0"+R.end.getMinutes()).slice(-2)]}),Object(w.jsx)("div",{children:R.teachers})]})]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("table",{className:"table table-hover",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"row",children:[Object(w.jsx)("th",{className:"col",children:t.year}),Object(w.jsx)("th",{className:"col",children:t.month}),Object(w.jsx)("th",{className:"col",children:t.day}),Object(w.jsx)("th",{className:"col",children:t.time}),Object(w.jsx)("th",{className:"col",children:t.teacher})]})}),Object(w.jsx)("tbody",{children:c.map((function(t){return Object(w.jsxs)("tr",{className:"row",children:[Object(w.jsx)("td",{className:"col",children:t.start.getFullYear()}),Object(w.jsx)("td",{className:"col",children:t.start.toLocaleString(e.currentLanguage.name,{month:"long"})}),Object(w.jsx)("td",{className:"col",children:t.start.getDate()}),Object(w.jsx)("td",{className:"col",children:("0"+t.start.getHours()).slice(-2)+":"+("0"+t.start.getMinutes()).slice(-2)+"-"+("0"+t.end.getHours()).slice(-2)+":"+("0"+t.end.getMinutes()).slice(-2)}),Object(w.jsx)("td",{className:"col",children:t.teachers})]},t.id)}))})]})]})},B=new Date,J={id:"",teachers:"",students:"",courseName:"",start:B,end:B},Y=function(){var e=Object(j.i)().teacherId,t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(J),u=Object(l.a)(c,2),b=u[0],p=u[1],h=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),m=Object(l.a)(h,2),g=m[0],O=m[1],v=Object(s.useContext)(f),k=v.langResources.frontEnd.containers.teacher.teacherOverview,C=function(){var t=Object(i.a)(o.a.mark((function t(){var a,s,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==v.jwt){t.next=2;break}return t.abrupt("return");case 2:return a=new Date,(s=new Date).setHours(23,59,59,999),t.next=7,H.getTimeFramedByContract(e,a,s,v.currentLanguage.name,v.jwt);case 7:(n=t.sent).ok&&n.data?(O({pageStatus:x.OK,statusCode:0}),r(n.data),n.data.length>0&&p(n.data[0])):O({pageStatus:x.Error,statusCode:n.statusCode});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){C()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"text-center",children:k.course}),Object(w.jsx)(I,Object(d.a)({},g)),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"table-entry",children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{className:"text-center",children:k.nextLesson}),Object(w.jsxs)("table",{children:[Object(w.jsxs)("thead",{children:[Object(w.jsx)("tr",{}),Object(w.jsx)("tr",{})]}),Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:k.time}),Object(w.jsx)("td",{children:0===n.length?"":("0"+b.start.getHours()).slice(-2)+":"+("0"+b.start.getMinutes()).slice(-2)+"-"+("0"+b.end.getHours()).slice(-2)+":"+("0"+b.end.getMinutes()).slice(-2)})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:k.student}),Object(w.jsx)("td",{children:b.students})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:k.course}),Object(w.jsx)("td",{children:b.courseName})]})]})]})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h4",{className:"text-center",children:k.restOfTheDay}),n.map((function(e){return Object(w.jsxs)("table",{className:"inline-table-overview-students table-entry",children:[Object(w.jsxs)("thead",{children:[Object(w.jsx)("tr",{}),Object(w.jsx)("tr",{})]}),Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:k.time}),Object(w.jsx)("td",{children:("0"+e.start.getHours()).slice(-2)+":"+("0"+e.start.getMinutes()).slice(-2)+"-"+("0"+e.end.getHours()).slice(-2)+":"+("0"+e.end.getMinutes()).slice(-2)})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:k.student}),Object(w.jsx)("td",{children:e.students})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:k.course}),Object(w.jsx)("td",{children:e.courseName})]})]})]},e.id)}))]})]})]})},G=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"getAxiosConfiguration",value:function(e,t){if(t)return{params:{culture:e},headers:{Authorization:"Bearer "+t}}}},{key:"InviteUser",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.stringify(a),t.prev=1,t.next=4,this.axios.post("DrivingSchools/InviteStudent",r,e.getAxiosConfiguration(s,n));case 4:return c=t.sent,t.abrupt("return",{ok:c.status<=299,statusCode:c.status,data:c.data});case 8:return t.prev=8,t.t0=t.catch(1),d=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(u=null===(i=d.response)||void 0===i?void 0:i.status)&&void 0!==u?u:500,messages:(null===(l=d.response)||void 0===l?void 0:l.data).messages});case 12:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e,a,s){return t.apply(this,arguments)}}()},{key:"GetStudents",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n,r,c){var u,i,l,d,j;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("DrivingSchools/Students/"+a+"/"+s+"/"+n,e.getAxiosConfiguration(r,c));case 3:return u=t.sent,t.abrupt("return",{ok:u.status<=299,statusCode:u.status,data:u.data});case 7:return t.prev=7,t.t0=t.catch(0),j=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(i=null===(l=j.response)||void 0===l?void 0:l.status)&&void 0!==i?i:500,messages:(null===(d=j.response)||void 0===d?void 0:d.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s,n,r){return t.apply(this,arguments)}}()},{key:"GetContractDrivingSchool",value:function(){var t=Object(i.a)(o.a.mark((function t(a,s,n){var r,c,u,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.axios.get("DrivingSchools/DrivingSchoolByContract/"+a,e.getAxiosConfiguration(s,n));case 3:return r=t.sent,t.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return t.prev=7,t.t0=t.catch(0),l=t.t0,t.abrupt("return",{ok:!1,statusCode:null!==(c=null===(u=l.response)||void 0===u?void 0:u.status)&&void 0!==c?c:500,messages:(null===(i=l.response)||void 0===i?void 0:i.data).messages});case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e,a,s){return t.apply(this,arguments)}}()}]),e}();G.axios=m.a.create({baseURL:g,headers:{"Content-Type":"application/json"}});var z={id:"",name:"",description:""},V=function(){var e=Object(j.i)().teacherId,t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(z),u=Object(l.a)(c,2),b=u[0],p=u[1],h=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),m=Object(l.a)(h,2),g=m[0],O=m[1],v=Object(s.useState)(""),k=Object(l.a)(v,2),C=k[0],N=k[1],y=Object(s.useState)({userName:"",fullName:""}),S=Object(l.a)(y,2),E=S[0],R=S[1],F=Object(s.useState)(""),A=Object(l.a)(F,2),P=A[0],K=A[1],M=Object(j.g)(),T=Object(s.useContext)(f),_=T.langResources.frontEnd.containers.teacher.students.studentsIndex,H=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),""===E.userName&&(E.userName=" "),""===E.fullName&&(E.fullName=" "),e.next=6,G.GetStudents(b.id,E.fullName,E.userName,T.currentLanguage.name,T.jwt);case 6:(a=e.sent).ok&&a.data?(O({pageStatus:x.OK,statusCode:0}),r(a.data)):(N(a.messages[0]),O({pageStatus:x.Error,statusCode:a.statusCode}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,G.InviteUser({schoolId:b.id,username:P},T.currentLanguage.name,T.jwt);case 3:(a=e.sent).ok&&a.data?(O({pageStatus:x.OK,statusCode:0}),H(t)):N(a.messages[0]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var t=Object(i.a)(o.a.mark((function t(a,s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),M.push("/teacher/"+e+"/student/"+s);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),B=function(){var t=Object(i.a)(o.a.mark((function t(){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==T.jwt){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,G.GetContractDrivingSchool(e,T.currentLanguage.name,T.jwt);case 4:if(!(a=t.sent).ok||!a.data){t.next=10;break}O({pageStatus:x.OK,statusCode:0}),p(a.data),t.next=13;break;case 10:return N(a.messages[0]),O({pageStatus:x.Error,statusCode:a.statusCode}),t.abrupt("return");case 13:return t.next=15,G.GetStudents(a.data.id," "," ",T.currentLanguage.name,T.jwt);case 15:(s=t.sent).ok&&s.data?(O({pageStatus:x.OK,statusCode:0}),r(s.data)):(N(s.messages[0]),O({pageStatus:x.Error,statusCode:s.statusCode}));case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){B()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"text-center",children:_.schoolStudents}),Object(w.jsx)(D,{show:""!==C,message:C,alertClass:L.Danger}),Object(w.jsx)(I,Object(d.a)({},g)),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"row justify-content",children:[Object(w.jsx)("form",{className:"col-2",onSubmit:function(e){return e.preventDefault},children:Object(w.jsxs)("section",{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{className:"form-group text-center",children:[Object(w.jsx)("label",{htmlFor:"Input_inviteUsername",children:_.username}),Object(w.jsx)("input",{value:P,onChange:function(e){return K(e.target.value)},className:"form-control",type:"text",id:"Input_inviteUsername",name:"Input.InviteUsername"})]}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)("button",{onClick:function(e){return q(e.nativeEvent)},type:"submit",className:"btn btn-primary",children:_.invite})})]})}),Object(w.jsx)("div",{className:"col-7"}),Object(w.jsx)("form",{className:"col-3 float-right",onSubmit:function(e){return e.preventDefault},children:Object(w.jsxs)("section",{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{className:"form-group text-center",children:[Object(w.jsx)("label",{htmlFor:"Input_username",children:_.username}),Object(w.jsx)("input",{value:E.userName,onChange:function(e){return R(Object(d.a)(Object(d.a)({},E),{},{userName:e.target.value}))},className:"form-control",type:"text",id:"Input_Username",name:"Input.Username"})]}),Object(w.jsxs)("div",{className:"form-group text-center",children:[Object(w.jsx)("label",{htmlFor:"Input_Password",children:_.name}),Object(w.jsx)("input",{value:E.fullName,onChange:function(e){return R(Object(d.a)(Object(d.a)({},E),{},{fullName:e.target.value}))},className:"form-control",type:"fullName",id:"Input_FullName",name:"Input.FullName"})]}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)("button",{onClick:function(e){return H(e.nativeEvent)},type:"submit",className:"btn float-right btn-primary",children:"Filter"})})]})})]}),n.map((function(e){return Object(w.jsxs)("div",{onClick:function(t){return U(t.nativeEvent,e.id)},className:"btn inline-table-overview-students table-entry",children:[Object(w.jsx)("h3",{children:e.fullName}),Object(w.jsx)("br",{}),Object(w.jsxs)("table",{children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{}),Object(w.jsx)("th",{})]})}),Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:_.username}),Object(w.jsx)("td",{children:e.username})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:_.email}),Object(w.jsx)("td",{children:e.email})]})]})]})]},e.id)}))]})},W={contractId:"",name:"",drivingSchoolId:"",drivingSchoolName:"",title:"",status:""},Q=function(){var e=Object(j.i)(),t=e.teacherId,a=e.studentId,n=Object(s.useState)([]),r=Object(l.a)(n,2),c=r[0],u=r[1],b=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),p=Object(l.a)(b,2),h=p[0],m=p[1],g=Object(s.useState)([]),O=Object(l.a)(g,2),v=O[0],k=O[1],C=Object(s.useState)(W),N=Object(l.a)(C,2),y=N[0],L=N[1],E=Object(s.useState)(""),D=Object(l.a)(E,2),R=D[0],F=D[1],A=Object(s.useContext)(f),P=A.langResources.frontEnd.containers.teacher.students.teacherStudentCourses,M=Object(j.g)(),T=function(){var e=Object(i.a)(o.a.mark((function e(s,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="/teacher/"+t+"/student/"+a+"/course/"+n,M.push(r);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(o.a.mark((function e(a,s){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,S.delete(s,A.currentLanguage.name,A.jwt);case 3:(n=e.sent).ok&&n.data&&(m({pageStatus:x.OK,statusCode:0}),r="/teacher/"+t+"/students",M.push(r));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(o.a.mark((function e(t,s){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={id:"",name:"",description:"",category:"",contractId:a,courseId:s},e.next=4,K.AddCourse(n,A.currentLanguage.name,A.jwt);case 4:(r=e.sent).ok&&r.data&&(m({pageStatus:x.OK,statusCode:0}),U(),B());case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==A.jwt){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S.get(a,A.currentLanguage.name,A.jwt);case 4:(t=e.sent).ok&&t.data?(m({pageStatus:x.OK,statusCode:0}),L(t.data)):m({pageStatus:x.Error,statusCode:t.statusCode});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==A.jwt){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,K.getAll(a,A.currentLanguage.name,A.jwt);case 4:(t=e.sent).ok&&t.data?(m({pageStatus:x.OK,statusCode:0}),u(t.data)):m({pageStatus:x.Error,statusCode:t.statusCode});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==A.jwt){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S.getMissing(a,A.currentLanguage.name,A.jwt);case 4:(t=e.sent).ok&&t.data?(m({pageStatus:x.OK,statusCode:0}),k(t.data),t.data.length>0&&F(t.data[0].id)):m({pageStatus:x.Error,statusCode:t.statusCode});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){U(),B(),q()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("h1",{className:"text-center",children:[y.name," ",P.courses]}),Object(w.jsx)(I,Object(d.a)({},h)),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),0===v.length?null:Object(w.jsxs)("div",{className:"row justify-content",children:[Object(w.jsx)("div",{className:"col-10"}),Object(w.jsx)("form",{className:"col-2",onSubmit:function(e){return e.preventDefault},children:Object(w.jsxs)("section",{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{className:"form-group text-center",children:[Object(w.jsx)("label",{htmlFor:"course-select",children:P.courses}),Object(w.jsx)("select",{onChange:function(e){return F(e.target.value)},className:"form-control",id:"course-select",children:v.map((function(e){return Object(w.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(w.jsx)("div",{className:"form-group text-center",children:Object(w.jsx)("button",{onClick:function(e){return H(e.nativeEvent,R)},type:"submit",className:"btn btn-primary",children:P.addCourse})})]})})]}),c.map((function(e){return Object(w.jsxs)("div",{onClick:function(t){return T(t.nativeEvent,e.id)},className:"table-entry btn",children:[Object(w.jsx)("h3",{children:e.name}),Object(w.jsx)("h5",{children:e.description}),Object(w.jsxs)("h5",{children:[P.category,": ",e.category]})]},e.id)})),Object(w.jsx)("form",{className:"float-right",onSubmit:function(e){return e.preventDefault},children:Object(w.jsxs)("section",{children:[Object(w.jsx)("hr",{}),Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)("button",{onClick:function(e){return _(e.nativeEvent,a)},type:"submit",className:"btn float-right btn-danger",children:P.kick})})]})})]})},X={contractId:"",name:"",drivingSchoolId:"",drivingSchoolName:"",title:"",status:""},Z={id:"",courseName:"",drivingRequirementProgress:null,checkmarkProgress:[]},$=function(){var e=Object(j.i)(),t=e.teacherId,a=e.studentId,n=e.studentCourseId,r=Object(s.useContext)(f),c=Object(s.useState)(0),u=Object(l.a)(c,2),b=u[0],p=u[1],h=Object(s.useState)(Z),m=Object(l.a)(h,2),g=m[0],O=m[1],v=Object(s.useState)(X),k=Object(l.a)(v,2),C=k[0],y=k[1],E=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),R=Object(l.a)(E,2),F=R[0],A=R[1],P=Object(s.useState)(""),M=Object(l.a)(P,2),T=M[0],_=M[1],H=Object(j.g)(),q=r.langResources.frontEnd.containers.teacher.students.teacherStudentCourse,U=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,K.updateReport(g,r.currentLanguage.name,r.jwt);case 3:(a=e.sent).ok&&a.data?_(q.reportUpdated):A({pageStatus:x.Error,statusCode:a.statusCode});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(o.a.mark((function e(s){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,K.deleteStudentContract(n,r.currentLanguage.name,r.jwt);case 3:(c=e.sent).ok&&c.data?H.push("/teacher/"+t+"/student/"+a):A({pageStatus:x.Error,statusCode:c.statusCode});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==r.jwt){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S.get(a,r.currentLanguage.name,r.jwt);case 4:(t=e.sent).ok&&t.data?(A({pageStatus:x.OK,statusCode:0}),y(t.data)):A({pageStatus:x.Error,statusCode:t.statusCode});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getReport(n,r.currentLanguage.name,r.jwt);case 2:(t=e.sent).ok&&t.data?(A({pageStatus:x.OK,statusCode:0}),O(t.data),null!=(a=t.data.drivingRequirementProgress)&&((s=a.completed/a.needed*100)>100&&(s=100),p(s))):A({pageStatus:x.Error,statusCode:t.statusCode});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){Y(),J()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:g.courseName}),Object(w.jsx)("h2",{children:C.name}),Object(w.jsx)(D,{show:""!==T,message:T,alertClass:L.Success}),Object(w.jsx)(I,Object(d.a)({},F)),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),null===g.drivingRequirementProgress?null:Object(w.jsxs)(N.b,{to:{pathname:"/teacher/"+t+"/student/"+a+"/course/"+n+"/schedule"},className:"table-entry btn",children:[Object(w.jsx)("h3",{className:"text-center",children:q.drivingLessons}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"progress",children:Object(w.jsx)("div",{className:"progress-bar bg-success",role:"progressbar","aria-valuenow":Number(b),"aria-valuemin":0,"aria-valuemax":100,style:{width:b+"%"},children:Object(w.jsxs)("span",{children:[b.toFixed(2),"% ",q.complete]})})}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{children:[q.progress,": ",g.drivingRequirementProgress.completed,"/",g.drivingRequirementProgress.needed]})]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("table",{children:Object(w.jsx)("tbody",{children:g.checkmarkProgress.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("label",{className:"container",htmlFor:"checkbox-"+e.id,children:e.requirementName})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{checked:e.isCompleted,onChange:function(t){for(var a=JSON.parse(JSON.stringify(g)),s=0;s<a.checkmarkProgress.length;s++){if(a.checkmarkProgress[s].id===e.id)return a.checkmarkProgress[s].isCompleted=t.target.checked,void O(a)}},type:"checkbox",className:"checkmark-input",id:"checkbox-"+e.id})})]},e.id)}))})}),Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)("div",{className:"btn btn-primary col-2",onClick:function(e){return U(e.nativeEvent)},children:q.update}),Object(w.jsx)("div",{className:"btn btn-danger col-2 float-right",onClick:function(e){return B(e.nativeEvent)},children:q.delete})]})]})},ee=new Date,te=function(){var e=Object(j.i)().teacherId,t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),u=Object(l.a)(c,2),b=u[0],p=u[1],h=Object(s.useState)(""),m=Object(l.a)(h,2),g=m[0],O=m[1],v=Object(s.useState)({start:new Date(ee.getFullYear(),ee.getMonth(),1),end:new Date(ee.getFullYear(),ee.getMonth()+1,0)}),k=Object(l.a)(v,2),C=k[0],N=k[1],y=Object(s.useContext)(f),S=y.langResources.frontEnd.containers.teacher.teacherSchedule,E=function(){var e=Object(i.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),N({start:new Date(C.start.setMonth(C.start.getMonth()+a)),end:new Date(C.end.setMonth(C.end.getMonth()+a))}),F();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(o.a.mark((function e(t,a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,H.delete(a,y.currentLanguage.name,y.jwt);case 3:(s=e.sent).ok&&s.data?(O(S.lessonRemoved),F()):p({pageStatus:x.Error,statusCode:s.statusCode});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var t=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==y.jwt){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,H.getTimeFramedByContract(e,C.start,C.end,y.currentLanguage.name,y.jwt);case 4:(a=t.sent).ok&&a.data?(p({pageStatus:x.OK,statusCode:0}),r(a.data)):p({pageStatus:x.Error,statusCode:a.statusCode});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){F()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:"text-center",children:S.lessons}),Object(w.jsx)(I,Object(d.a)({},b)),Object(w.jsx)(D,{show:""!==g,message:g,alertClass:L.Success}),Object(w.jsxs)("div",{className:"text-center",children:[Object(w.jsx)("i",{className:"fa fa-arrow-left cursor-pointer",onClick:function(e){return E(e.nativeEvent,-1)}}),Object(w.jsx)("span",{children:" "+C.start.getFullYear()+" "+C.start.toLocaleString(y.currentLanguage.name,{month:"long"})+" "}),Object(w.jsx)("i",{className:"fa fa-arrow-right cursor-pointer",onClick:function(e){return E(e.nativeEvent,1)}})]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"table-entry",children:Object(w.jsx)("div",{children:Object(w.jsxs)("table",{className:"table text-center",children:[Object(w.jsxs)("thead",{children:[Object(w.jsx)("th",{children:S.time}),Object(w.jsx)("th",{children:S.student}),Object(w.jsx)("th",{})]}),Object(w.jsx)("tbody",{children:n.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:("0"+e.start.getDate()).slice(-2)+" "+("0"+e.start.getHours()).slice(-2)+":"+("0"+e.start.getMinutes()).slice(-2)+"-"+("0"+e.end.getHours()).slice(-2)+":"+("0"+e.end.getMinutes()).slice(-2)}),Object(w.jsx)("td",{children:""===e.students?"Removed Student":e.students}),Object(w.jsx)("td",{children:Object(w.jsx)("span",{className:"btn btn-danger",onClick:function(t){return R(t.nativeEvent,e.id)},children:S.remove})})]},e.id)}))})]})})})]})},ae=(a(123),a(63)),se=a.n(ae),ne=a(87);Object(ae.registerLocale)("et",ne.a);var re={id:"",courseName:"",drivingRequirementProgress:null,checkmarkProgress:[]},ce={contractId:"",name:"",drivingSchoolId:"",drivingSchoolName:"",title:"",status:""},ue={lessonDate:new Date,length:2},oe=new Date,ie=function(){var e=Object(s.useContext)(f),t=Object(j.i)(),a=t.teacherId,n=t.studentId,r=t.studentCourseId,c=Object(s.useState)([]),u=Object(l.a)(c,2),b=u[0],p=u[1],h=Object(s.useState)(0),m=Object(l.a)(h,2),g=m[0],O=m[1],v=Object(s.useState)(re),k=Object(l.a)(v,2),C=k[0],y=k[1],E=Object(s.useState)({pageStatus:x.Loading,statusCode:-1}),R=Object(l.a)(E,2),F=R[0],A=R[1],P=Object(s.useState)(null),M=Object(l.a)(P,2),T=M[0],_=M[1],q=Object(s.useState)(""),U=Object(l.a)(q,2),B=U[0],J=U[1],Y=Object(s.useState)(""),G=Object(l.a)(Y,2),z=G[0],V=G[1],W=Object(s.useState)(""),Q=Object(l.a)(W,2),X=Q[0],Z=Q[1],$=Object(s.useState)({start:new Date(oe.getFullYear(),oe.getMonth(),1),end:new Date(oe.getFullYear(),oe.getMonth()+1,0)}),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(s.useState)([]),ie=Object(l.a)(ne,2),le=ie[0],de=ie[1],je=Object(s.useState)(ce),be=Object(l.a)(je,2),pe=be[0],he=be[1],me=Object(s.useState)(ue),ge=Object(l.a)(me,2),Oe=ge[0],xe=ge[1],ve=e.langResources.frontEnd.containers.teacher.students.teacherStudentCourseSchedule,fe=function(){var e=Object(i.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),ae({start:new Date(te.start.setMonth(te.start.getMonth()+a)),end:new Date(te.end.setMonth(te.end.getMonth()+a))}),Ne();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ke=function(){var t=Object(i.a)(o.a.mark((function t(a,s){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,H.delete(s,e.currentLanguage.name,e.jwt);case 3:(n=t.sent).ok&&n.data?(J(ve.lessonRemoved),Ne(),ye(),Se()):A({pageStatus:x.Error,statusCode:n.statusCode});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),we=function(){var t=Object(i.a)(o.a.mark((function t(s){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,H.create({teacherId:a,studentCourseId:r,start:Oe.lessonDate,length:Oe.length},e.currentLanguage.name,e.jwt);case 3:(n=t.sent).ok&&n.data?(Z(""),V(ve.lessonAdded),Ne(),ye(),Se()):Z(n.messages[0]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ce=function(){var t=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.jwt){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,S.get(n,e.currentLanguage.name,e.jwt);case 4:(a=t.sent).ok&&a.data?(A({pageStatus:x.OK,statusCode:0}),he(a.data)):A({pageStatus:x.Error,statusCode:a.statusCode});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ne=function(){var t=Object(i.a)(o.a.mark((function t(){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.jwt){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,H.getTimeFramedByContract(a,te.start,te.end,e.currentLanguage.name,e.jwt);case 4:(s=t.sent).ok&&s.data?(A({pageStatus:x.OK,statusCode:0}),de(s.data)):A({pageStatus:x.Error,statusCode:s.statusCode});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ye=function(){var t=Object(i.a)(o.a.mark((function t(){var a,s,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.getReport(r,e.currentLanguage.name,e.jwt);case 2:(a=t.sent).ok&&a.data?(A({pageStatus:x.OK,statusCode:0}),y(a.data),null!=(s=a.data.drivingRequirementProgress)&&((n=s.completed/s.needed*100)>100&&(n=100),O(n))):A({pageStatus:x.Error,statusCode:a.statusCode});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Se=function(){var t=Object(i.a)(o.a.mark((function t(){var a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.getAllByContractCourse(r,e.currentLanguage.name,e.jwt);case 2:if(!(a=t.sent).ok||!a.data){t.next=16;break}A({pageStatus:x.OK,statusCode:0}),p(a.data),s=0;case 7:if(!(s<a.data.length)){t.next=14;break}if(!(a.data[s].start>=new Date)){t.next=11;break}return _(a.data[s]),t.abrupt("break",14);case 11:s++,t.next=7;break;case 14:t.next=17;break;case 16:A({pageStatus:x.Error,statusCode:a.statusCode});case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){Ne(),Ce(),ye(),Se()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:C.courseName}),Object(w.jsx)("h3",{children:pe.name}),Object(w.jsx)("div",{children:Object(w.jsx)(N.b,{to:"/teacher/"+a+"/student/"+n+"/course/"+r,children:ve.backToStudentCourse})}),Object(w.jsx)(I,Object(d.a)({},F)),Object(w.jsx)(D,{show:""!==B,message:B,alertClass:L.Success}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),null===C.drivingRequirementProgress?null:Object(w.jsxs)("div",{className:"table-entry",children:[Object(w.jsx)("h3",{className:"text-center",children:ve.drivingLessons}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"progress",children:Object(w.jsx)("div",{className:"progress-bar bg-success",role:"progressbar","aria-valuenow":Number(g),"aria-valuemin":0,"aria-valuemax":100,style:{width:g+"%"},children:Object(w.jsxs)("span",{children:[g.toFixed(2),"% ",ve.complete]})})}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{children:[ve.progress,": ",C.drivingRequirementProgress.completed,"/",C.drivingRequirementProgress.needed]}),null===T?null:Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{children:[ve.nextLesson,": ",T.start.getFullYear()+" "+T.start.toLocaleString("default",{month:"long"})+" "+T.start.getDate()+" "+("0"+T.start.getHours()).slice(-2)+":"+("0"+T.start.getMinutes()).slice(-2)+"-"+("0"+T.end.getHours()).slice(-2)+":"+("0"+T.end.getMinutes()).slice(-2)]}),Object(w.jsx)("div",{children:T.teachers})]})]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("h2",{children:ve.teacherLessons}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"table-entry",children:[Object(w.jsxs)("div",{className:"text-center h4",children:[Object(w.jsx)("i",{className:"fa fa-arrow-left cursor-pointer",onClick:function(e){return fe(e.nativeEvent,-1)}}),Object(w.jsx)("span",{children:" "+te.start.getFullYear()+" "+te.start.toLocaleString(e.currentLanguage.name,{month:"long"})+" "}),Object(w.jsx)("i",{className:"fa fa-arrow-right cursor-pointer",onClick:function(e){return fe(e.nativeEvent,1)}})]}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{children:Object(w.jsxs)("table",{className:"table text-center",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:ve.time}),Object(w.jsx)("th",{children:ve.student}),Object(w.jsx)("th",{})]})}),Object(w.jsx)("tbody",{children:le.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:("0"+e.start.getDate()).slice(-2)+" "+("0"+e.start.getHours()).slice(-2)+":"+("0"+e.start.getMinutes()).slice(-2)+"-"+("0"+e.end.getHours()).slice(-2)+":"+("0"+e.end.getMinutes()).slice(-2)}),Object(w.jsx)("td",{children:""===e.students?"Removed Student":e.students}),Object(w.jsx)("td",{children:Object(w.jsx)("span",{className:"btn btn-danger",onClick:function(t){return ke(t.nativeEvent,e.id)},children:ve.remove})})]},e.id)}))})]})})]}),Object(w.jsx)("br",{}),Object(w.jsx)("h4",{children:ve.addLesson}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-auto",children:Object(w.jsx)(se.a,{showTimeSelect:!0,dateFormat:"MMMM d, yyyy hh:mm",timeIntervals:15,selected:Oe.lessonDate,locale:e.currentLanguage.name,onChange:function(e){xe({lessonDate:new Date(e.toString()),length:Oe.length})},inline:!0})}),Object(w.jsxs)("div",{className:"col-3",children:[Object(w.jsx)(D,{show:""!==X,message:X,alertClass:L.Danger}),Object(w.jsx)(D,{show:""!==z,message:z,alertClass:L.Success}),Object(w.jsx)("label",{htmlFor:"lessonLength",children:ve.lessonLength}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{className:"col-6",id:"lessonLength",type:"number",onChange:function(e){Number(e.target.value)<=0?Z(ve.lessonLengthError+e.target.value+"!"):(Z(""),xe({lessonDate:Oe.lessonDate,length:Number(e.target.value)}))},value:Oe.length})]})]})}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"btn btn-primary",onClick:function(e){return we(e.nativeEvent)},children:ve.add}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("h2",{children:ve.studentLessons}),Object(w.jsxs)("table",{className:"table table-hover",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{className:"row",children:[Object(w.jsx)("th",{className:"col",children:ve.year}),Object(w.jsx)("th",{className:"col",children:ve.month}),Object(w.jsx)("th",{className:"col",children:ve.day}),Object(w.jsx)("th",{className:"col",children:ve.time}),Object(w.jsx)("th",{className:"col",children:ve.teacher})]})}),Object(w.jsx)("tbody",{children:b.map((function(t){return Object(w.jsxs)("tr",{className:"row",children:[Object(w.jsx)("td",{className:"col",children:t.start.getFullYear()}),Object(w.jsx)("td",{className:"col",children:t.start.toLocaleString(e.currentLanguage.name,{month:"long"})}),Object(w.jsx)("td",{className:"col",children:t.start.getDate()}),Object(w.jsx)("td",{className:"col",children:("0"+t.start.getHours()).slice(-2)+":"+("0"+t.start.getMinutes()).slice(-2)+"-"+("0"+t.end.getHours()).slice(-2)+":"+("0"+t.end.getMinutes()).slice(-2)}),Object(w.jsx)("td",{className:"col",children:t.teachers})]},t.id)}))})]})]})};var le=function(){var e=Object(s.useState)(Object(d.a)(Object(d.a)({},v),{},{setAuthInfo:function(e,t,s,r,c,u,o,i,l){n(Object(d.a)(Object(d.a)({},a),{},{jwt:e,userName:t,firstName:s,lastName:r,title:c,contractId:u,supportedLanguages:o,currentLanguage:i,langResources:l}))}})),t=Object(l.a)(e,2),a=t[0],n=t[1],r=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getSupportedLanguages();case 2:(t=e.sent).ok&&t.data&&(a.supportedLanguages=t.data,a.setAuthInfo(a.jwt,a.userName,a.firstName,a.lastName,a.title,a.contractId,a.supportedLanguages,a.currentLanguage,a.langResources));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getLangResources(a.currentLanguage.name);case 2:(t=e.sent).ok&&t.data&&(a.langResources=t.data,a.setAuthInfo(a.jwt,a.userName,a.firstName,a.lastName,a.title,a.contractId,a.supportedLanguages,a.currentLanguage,a.langResources));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){c(),r()}),[]),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(k,{value:a,children:[Object(w.jsx)(y,{}),Object(w.jsx)("div",{className:"container",children:Object(w.jsx)("main",{role:"main",className:"pb-3",children:Object(w.jsxs)(j.d,{children:[Object(w.jsx)(j.b,{exact:!0,path:"/",component:E}),Object(w.jsx)(j.b,{path:"/identity/login",component:F}),Object(w.jsx)(j.b,{path:"/identity/register",component:A}),Object(w.jsx)(j.b,{path:"/student/courses/:id",component:M}),Object(w.jsx)(j.b,{path:"/student/course/:id",component:_}),Object(w.jsx)(j.b,{path:"/student/courseSchedule/:id",component:U}),Object(w.jsx)(j.b,{path:"/teacher/:teacherId/overview",component:Y}),Object(w.jsx)(j.b,{path:"/teacher/:teacherId/schedule",component:te}),Object(w.jsx)(j.b,{path:"/teacher/:teacherId/students",component:V}),Object(w.jsx)(j.b,{path:"/teacher/:teacherId/student/:studentId/course/:studentCourseId/schedule",component:ie}),Object(w.jsx)(j.b,{path:"/teacher/:teacherId/student/:studentId/course/:studentCourseId",component:$}),Object(w.jsx)(j.b,{path:"/teacher/:teacherId/student/:studentId",component:Q}),Object(w.jsx)(j.b,{component:P})]})})}),Object(w.jsx)(C,{})]})})};c.a.render(Object(w.jsx)(N.a,{basename:"/drivingschool",children:Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(le,{})})}),document.getElementById("root"))},91:function(e,t,a){}},[[180,1,2]]]);
//# sourceMappingURL=main.3e6afc12.chunk.js.map